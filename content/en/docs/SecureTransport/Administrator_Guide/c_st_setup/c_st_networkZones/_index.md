{
    "title": "Communication across Transaction Manager, protocol, and proxy servers",
    "linkTitle": "Transaction Manager protocol and proxy server communication",
    "weight": "280"
}<span class="mc-variable axway_variables.Component_Short_Name variable">SecureTransport</span> uses a streaming protocol for communication between the protocol servers running on <span class="mc-variable axway_variables.Component_Short_Name variable">SecureTransport</span> Edge and the Transaction Manager (TM) server running on <span class="mc-variable axway_variables.Component_Short_Name variable">SecureTransport</span> Server. The streaming protocol abstracts all file transfer protocols and unifies and secures this central communication. When you deploy one or more <span class="mc-variable axway_variables.Component_Short_Name variable">SecureTransport</span> Edge servers in a peripheral network (DMZ), the deployment is called *streaming* because no file transfer data is stored on the <span class="mc-variable axway_variables.Component_Short_Name variable">SecureTransport</span> Edge server. The protocol servers translate the protocol they are serving to the streaming protocol but do not read or write files.

With a streaming deployment, the TM Server connects to the protocol servers on the configured <span class="mc-variable axway_variables.Component_Short_Name variable">SecureTransport</span> Edge servers to establish the connections for the streaming protocol, so no process on a <span class="mc-variable axway_variables.Component_Short_Name variable">SecureTransport</span> Edge ever makes a connection from the DMZ into the internal secure network. For more information, see <a href="../../overview/c_st_securetransport_edge" class="MCXref xref">SecureTransport Edge</a>. (The TM server and protocol servers running on <span class="mc-variable axway_variables.Component_Short_Name variable">SecureTransport</span> Server also use the streaming protocol internally.)

> **Note:**
>
> Unless a number is specified via the corresponding system properties, the number of established streaming connections from Transaction Manager to a single protocol daemon (Admin, FTP, HTTP, and so forth) is calculated with the help of formula: min(20, 2\*CPUs)

<span class="mc-variable suite_variables.SecureTransportName variable">SecureTransport</span>, when used as a client, can use a proxy server. With AS2 and HTTP/S protocols, any RFC 7231 compliant HTTP proxy is expected to work. With all other protocols, <span class="mc-variable suite_variables.SecureTransportName variable">SecureTransport</span> can use the SOCKS5 proxy component of <span class="mc-variable suite_variables.SecureTransportName variable">SecureTransport</span> Edge.

You configure the communication between the TM server and protocol servers and access to SOCKS5 and HTTP proxies by defining network zones. Each network zone on a <span class="mc-variable axway_variables.Component_Short_Name variable">SecureTransport</span> Server can have one or more network zone nodes that define access either within the <span class="mc-variable axway_variables.Component_Short_Name variable">SecureTransport</span> Server or between the <span class="mc-variable axway_variables.Component_Short_Name variable">SecureTransport</span> Server and one or more <span class="mc-variable axway_variables.Component_Short_Name variable">SecureTransport</span> Edge servers. This is also applicable when your implementation uses HTTP proxy servers or the SOCKS5 proxy components of the relevant <span class="mc-variable suite_variables.SecureTransportName variable">SecureTransport</span> Edges. The TM Server connects to all protocol servers configured in all network zones. In the configuration of each transfer site, you can select a network zone to specify which proxy (HTTP or SOCKS5 on Edge) will be used for server-initiated transfers through that transfer site. <span class="mc-variable axway_variables.Component_Short_Name variable">SecureTransport</span> selects a node from the network zone using a load-balancing policy when a server-initiated transfer uses the network zone.

> **Note:**
>
> Remember that HTTP proxy is only supported with HTTP(S) and AS2 transfer sites. Proxying server-initiated transfers over the other supported protocols (SSH, FTP(S), PeSIT, etc.) requires the use of the SOCKS5 proxy on SecureTransport Edge.

Because you can specify multiple <span class="mc-variable axway_variables.Component_Short_Name variable">SecureTransport</span> Edge addresses in a node and multiple nodes in a network zone, you can implement any required many-to-many communication between TM servers (on <span class="mc-variable axway_variables.Component_Short_Name variable">SecureTransport</span> Server nodes) and protocol servers and / or SOCKS5 proxies (on <span class="mc-variable axway_variables.Component_Short_Name variable">SecureTransport</span> Edge servers).

On a <span class="mc-variable axway_variables.Component_Short_Name variable">SecureTransport</span> Server, a special network zone named `Private` defines the ports used for internal communication between the TM Server and the protocol servers and the Administration Tool server running on the <span class="mc-variable axway_variables.Component_Short_Name variable">SecureTransport</span> server.

On a <span class="mc-variable axway_variables.Component_Short_Name variable">SecureTransport</span> Edge server, there is only one network zone, a special one named `Private` that specifies the ports that the protocol servers listen on for connections from TM servers on <span class="mc-variable axway_variables.Component_Short_Name variable">SecureTransport</span> Servers. The port number must match the port number configured in the network zone on the <span class="mc-variable axway_variables.Component_Short_Name variable">SecureTransport</span> Servers that defines the connection to the <span class="mc-variable axway_variables.Component_Short_Name variable">SecureTransport</span> Edge server. You cannot define more network zones on a <span class="mc-variable axway_variables.Component_Short_Name variable">SecureTransport</span> Edge server.

The following topics describe the streaming deployment and describe managing the Transaction Manager (TM), protocol, and proxy server communication:

-   <a href="#" class="MCXref xref">Streaming deployment</a> - Describes <span class="mc-variable suite_variables.SecureTransportName variable">SecureTransport</span> streaming deployment.
-   <a href="t_st_networkzones" class="MCXref xref">Manage the communication across Transaction Manager, protocol and proxy servers</a> - Describes managing the Transaction Manager (TM), protocol, and proxy server communication and provides how-to instructions for configuring the Transaction Manager (TM), protocol, and proxy server communication.
