{
    "title": "Decompress",
    "linkTitle": "Decompress",
    "weight": "260"
}The Decompress transformation step enables the decompression of designated archived files as part of a route. SecureTransport can extract files from ZIP, JAR, TAR and GZIP archives. The decompression algorithm is automatically detected at run time. A `tar.gz` archive requires two separate Decompress steps. The first one is to extract the `tar `from the `gzip `archive, and the second one - to decompress the `tar` archive.

Use the following procedure to add a Decompress step to a Route Package Template:

1.  Designate the files to be decompressed.
2.  Choose the action to be taken if an archive contains a file with the same name.
3.  Determine whether or not to proceed with the route execution on step failure.
4.  Enter the password to unzip a ZIP file.
5.  Click **Save**.

## <span id="File"></span>Input Files

The *Input Files* pane identifies files used as input to the Decompress step. By default, the step will decompress all archive files that were produced by the preceding step. Use the filtering options to designate the files to be decompressed.

The Decompress step processes files in the following manner:

<table cellspacing="0">
   <col/>
   <col/>
   <col/>
   <thead>
      <tr>
         <th>Process only result from preceding step <br/><span>checkbox status</span></th>
         <th>Name filter <br/><span>option selected</span></th>
         <th>Input files <br/><span>result</span></th>
      </tr>
   </thead>
   <tbody>
      <tr>
         <td>selected          </td>
         <td>Process all files          </td>
         <td>all output files generated by the preceding step          </td>
      </tr>
      <tr>
         <td>selected         </td>
         <td>Process files based on a file name pattern
         </td>
         <td>the output files generated by the preceding step that match the specified file name pattern         </td>
      </tr>
      <tr>
         <td>not selected          </td>
         <td>Process all files         </td>
         <td>all available archive files         </td>
      </tr>
      <tr>
         <td>not selected          </td>
         <td>Process files based on a file name pattern         </td>
         <td>the available archive files that match the specified file name pattern         </td>
      </tr>
   </tbody>
</table>

### <span id="File2"></span>File name patterns

To use a file name pattern to identify files to decompress:

1.  Select **Process files based on a file name pattern**.
2.  Choose pattern syntax.
    -   When **File Globbing** is selected, you can use '`?`' and '`*`' wildcard characters to define the pattern. For example, `*.txt` matches all files with the extension `.txt`.
    -   When **Regular expressions** is selected, you can use `Perl5.003` or Perl5 extended regular expressions. For example, `.*\.(txt|xml)` matches all files with the extension `.txt` or `.xml`.

    More examples of `glob` and `regexp` patterns are provided in the tooltip.
3.  Provide the pattern in the text box.

## <span id="Collisio"></span>Collision Settings

The Decompress step discards the directory structure of the archive and extracts all files into the same directory. To avoid name collisions, you can instruct SecureTransport how to handle archives containing files with the same name:

The following options are available:

-   **Fail operation** - When selected, an archive member with the same name as the archive prevents its extraction; an error is reported, and the step fails.
-   **Replace existing file** - Default. When selected, the archive member is extracted into a file with the same name, and the archive is deleted.
-   **Rename existing file** - When selected, name collisions are resolved automatically by appending *(new copy &lt;number>)* to the extracted archive member that shares its name with the archive. The archive name remains unchanged.  

For example, if an archive named *myFile* contains a file named *myFile*, the archived file will be renamed to *myFile (new copy 1)*. If a file with the name *myFile (new copy 1)* already exists, the extracted file will be renamed to *myFile (new copy 2)*

If there is a file with the same name in different folders inside the archive, only one of them is extracted. For example, if a ZIP file contains two folders (`folder1` and `folder2`) and each of the folders contains a file named `file.txt` (`folder1\file.txt` and `folder2\file.txt`), only one copy of `file.txt` is extracted.

## <span id="Proceed"></span>Route execution on step failure

When *Proceed with route execution on step failure* is selected, the route execution continues even if the step execution fails.

## <span id="Archive"></span>Archive Password

This option is only applicable for password-protected ZIP files. To unzip such files, select the *Password for a protected file* checkbox, enter the password for the file and confirm it.

## Output file naming

The output file name is the same as the input file name. To change the names of the output files, add a [Rename](../t_st_rename) transformation step.

**Related topics:**

-   [Rename](../t_st_rename)
-   [PGP Encryption](../t_st_pgp_encryption)
-   [PGP Decryption](../t_st_pgp_decryption)
-   [Compress](../t_st_compress)
-   [Line Ending](../t_st_line_ending)
-   [External Script](../t_st_external_script)
-   [Encoding Conversion](../t_st_charset_conversion)
-   [Characters Replace](../t_st_replace)
-   [Line Padding](../t_st_line_padding)
-   [Line Folding](../t_st_file_folding)
-   [Line Truncating](../t_st_line_truncating)
