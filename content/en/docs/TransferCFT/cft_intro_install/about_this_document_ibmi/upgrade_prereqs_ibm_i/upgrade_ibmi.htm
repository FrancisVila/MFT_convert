<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-toc-path="Installation (allOS)|Installation and operation IBM i|Update, upgrade, or migrate" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Upgrade Transfer CFT IBM i</title>
        <link rel="shortcut icon" href="../../Resources/Images/favicon.ico" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Resources/Stylesheets/axway.css" rel="stylesheet" type="text/css" />
        <link href="../../Resources/TableStyles/code_window.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <script src="../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div role="main" id="mc-main-content">
            <h1>Upgrade Transfer CFT IBM i</h1>
            <p>This page describes two upgrade procedures for Transfer CFT 3.7  IBM i. The automatic upgrade procedure requires fewer user inputs than the manual procedure, and is the procedure of choice. This upgrade procedure enables you to change the version of an installed Transfer CFT to a more recent version while conserving its current configuration. Additionally, you can use the <a href="#">rollback</a> feature if a situation arises where you  need to return to a previous version.</p>
            <table class="AutoNumber_p_note" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
                <col style="width: 25px;" />
                <col style="width: 45px;" />
                <col style="width: auto;" />
                <tr>
                    <td valign="top" />
                    <td class="AutoNumber_p_note" valign="top"><span><b>Note</b></span>
                    </td>
                    <td class="AutoNumber_p_note" valign="top" data-mc-autonum="&lt;b&gt;Note&lt;/b&gt;"> The UPGRADE procedure delivered in the installation package performs the same steps as those described in the manual upgrade procedure. However, we strongly recommend using the <a href="#Automati">automatic</a> upgrade procedure instead of the manual upgrade.</td>
                </tr>
            </table>
            <table class="AutoNumber_p_note" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
                <col style="width: 23px;" />
                <col style="width: 47px;" />
                <col style="width: auto;" />
                <tr>
                    <td valign="top" />
                    <td class="AutoNumber_p_note" valign="top"><span><b>Tip &#160;</b></span>
                    </td>
                    <td class="AutoNumber_p_note" valign="top" data-mc-autonum="&lt;b&gt;Tip &#160;&lt;/b&gt;">CFTPGM is the standard name for the program library, and CFTPROD is the standard name for the library where the configuration files are usually located.</td>
                </tr>
            </table>
            <h2><a name="Upload"></a>Before you start</h2>
            <p>Before beginning the upgrade procedure:</p>
            <ul>
                <li>Check that you can access the Transfer CFT upgrade pack available for download from Axway at <a href="https://support.axway.com/">support.axway.com</a>.</li>
                <li>Stop the Transfer CFT server and the Transfer CFT Copilot (UI) server. Enter:</li>
            </ul>
            <table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0">
                <col class="TableStyle-code_window-Column-Column1" />
                <tbody>
                    <tr class="TableStyle-code_window-Body-Body1">
                        <td class="TableStyle-code_window-BodyA-Column1-Body1">
                            <p>CFTSTOP</p>
                            <p>COPSTOP</p>
                        </td>
                    </tr>
                </tbody>
            </table>
            <p>Optionally, you can use the display command to check the version or product details prior to upgrading.</p>
            <table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0">
                <col class="TableStyle-code_window-Column-Column1" />
                <tbody>
                    <tr class="TableStyle-code_window-Body-Body1">
                        <td class="TableStyle-code_window-BodyA-Column1-Body1">CFTUTIL about</td>
                    </tr>
                </tbody>
            </table>
            <h2><a name="Automati"></a>Automatic upgrade procedure </h2>
            <h3>Uploading the installation package</h3>
            <p>Start the UPGRADE process  by uploading the Transfer CFT installation package in binary mode to the IBM i system:</p>
            <ol>
                <li value="1">Log in with the <code>CFTINST </code>user.</li>
                <li value="2">Create a temporary library: <code>CRTLIB CFTTMP</code></li>
                <li value="3"> Create a SAVF file: <code>CRTSAVF FILE(CFTTMP/CFT37)</code></li>
                <li value="4">Upload the installation package to the SAVF in binary mode using FTP:</li>
                <li class="list_detail">
                    <table style="mc-table-style: url('../../Resources/TableStyles/code_window.css');width: 90%;" class="TableStyle-code_window" cellspacing="0">
                        <col class="TableStyle-code_window-Column-Column1" />
                        <tbody>
                            <tr class="TableStyle-code_window-Body-Body1">
                                <td class="TableStyle-code_window-BodyA-Column1-Body1">
                                    <p>binary</p>
                                    <p>cd CFTTMP</p>
                                    <p>put Transfer_CFT_os400.bin CFT37</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </li>
            </ol>
            <ol data-mc-continue="true">
                <li value="5">Restore the SAVF file in the temporary library:</li>
                <li class="list_detail">
                    <table style="mc-table-style: url('../../Resources/TableStyles/code_window.css');width: 90%;" class="TableStyle-code_window" cellspacing="0">
                        <col class="TableStyle-code_window-Column-Column1" />
                        <tbody>
                            <tr class="TableStyle-code_window-Body-Body1">
                                <td class="TableStyle-code_window-BodyA-Column1-Body1">RSTLIB SAVLIB(CFTPG) DEV(*SAVF) SAVF(CFTTMP/CFT37) OPTION(*NEW) RSTLIB(CFTTMP)</td>
                            </tr>
                        </tbody>
                    </table>
                </li>
            </ol>
            <ol data-mc-continue="true">
                <li value="6">After restoring the SAVF, you must add the library name in the first position of the library list for the user profile. Execute the command:</li>
                <li class="list_detail">
                    <table style="mc-table-style: url('../../Resources/TableStyles/code_window.css');width: 90%;" class="TableStyle-code_window" cellspacing="0">
                        <col class="TableStyle-code_window-Column-Column1" />
                        <tbody>
                            <tr class="TableStyle-code_window-Body-Body1">
                                <td class="TableStyle-code_window-BodyA-Column1-Body1">
                                    <p>ADDLIBLE LIB(CFTTMP) POSITION(*FIRST)</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </li>
            </ol>
            <table class="AutoNumber_p_note" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
                <col style="width: 25px;" />
                <col style="width: 45px;" />
                <col style="width: auto;" />
                <tr>
                    <td valign="top" />
                    <td class="AutoNumber_p_note" valign="top"><span><b>Note</b></span>
                    </td>
                    <td class="AutoNumber_p_note" valign="top" data-mc-autonum="&lt;b&gt;Note&lt;/b&gt;">The  user performing the upgrade requires the same rights as for a regular installation or update (*JOBCTL, *SPLCTL, and *ALLOBJ).</td>
                </tr>
            </table>
            <h3>Executing the UPGRADE command</h3>
            <p>Enter the UPGRADE command and press F4 to display the Transfer CFT IBM i installation screen.</p>
            <table style="mc-table-style: url('../../Resources/TableStyles/code_window.css');width: 90%;" class="TableStyle-code_window" cellspacing="0">
                <col class="TableStyle-code_window-Column-Column1" />
                <tbody>
                    <tr class="TableStyle-code_window-Body-Body1">
                        <td class="TableStyle-code_window-BodyA-Column1-Body1">
                            <p>UPGRADE CFT (UPGRADE)</p>
                            <p>Extract lib for the CFT&#160; . . . . CFTEXTLIB&#160;&#160;&#160;&#160;&#160; __________ </p>
                            <p>CFT Program Library&#160; . . . . . . CFTPGM&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; __________</p>
                            <p>CFT Production Library . . . . . CFTPROD&#160;&#160;&#160;&#160;&#160;&#160;&#160; __________</p>
                            <p>Are you rolling back? . . . . . .ROLLBACK&#160;&#160;&#160;&#160;&#160;&#160; '2'&#160;&#160;&#160;&#160;&#160;&#160; </p>
                        </td>
                    </tr>
                </tbody>
            </table>
            <p>The following fields are mandatory; you should complete as per your system details:</p>
            <ul>
                <li class="li_2">CFTEXTLIB: Enter the name of the temporary library used to process the upgrade. This can be existing or non-existent library, but its content is cleared during the process.</li>
                <li class="li_3">CFTPGM: Enter the name of the library containing the binaries of your Transfer CFT to upgrade.</li>
                <li class="li_2">CFTPROD: Enter the name of the library containing the working files of your Transfer CFT to upgrade.</li>
                <li class="li_3">ROLLBACK: '1': Enables the rollback mode (YES).  <br />‘2’: Indicates that you are NOT rolling back to a previous <span class="mc-variable suite_variables.TransferCFTName variable">Transfer CFT</span> version (NO). </li>
                <li class="li_3">SAVF: This field only displays when you enter '1'&#160;in the ROLLBACK&#160;field. In this case, enter the name of the SAVF for the version you want to apply. The default value is the name of SAVF for the version that you downloaded. See <a href="#Rolling">Rolling back an upgrade</a> for details.</li>
            </ul>
            <h3>Check the new version</h3>
            <p>To check the Transfer CFT version, as well as the license key and system information, enter the command: </p>
            <table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0">
                <col class="TableStyle-code_window-Column-Column1" />
                <tbody>
                    <tr class="TableStyle-code_window-Body-Body1">
                        <td class="TableStyle-code_window-BodyA-Column1-Body1">
                            <p>CFTUTIL about</p>
                        </td>
                    </tr>
                </tbody>
            </table>
            <h3>About the UPGRADE command</h3>
            <p>Running the UPGRADE command:</p>
            <ol start="1" class="ol_2">
                <li value="1">Creates a temporary library.</li>
                <li value="2">Extracts your configuration, COM file, CAT file into this temporary library.</li>
                <li value="3">Saves your IFS directories by moving them to new directories having the same name but which are suffixed by “_save”.</li>
                <li value="4">Saves your <span class="mc-variable suite_variables.TransferCFTName variable">Transfer CFT</span> libraries in the SAVF located in the temporary lib.</li>
                <li value="5">Replaces the binaries in your CFTPGM libraries by those of the new <span class="mc-variable suite_variables.TransferCFTName variable">Transfer CFT</span> version.</li>
                <li value="6">Replaces your IFS directories by those of the new <span class="mc-variable suite_variables.TransferCFTName variable">Transfer CFT</span> version.</li>
                <li value="7">Imports your configuration into your upgraded <span class="mc-variable suite_variables.TransferCFTName variable">Transfer CFT</span>.</li>
            </ol>
            <p>As a result, your <span class="mc-variable suite_variables.TransferCFTName variable">Transfer CFT</span> binaries are upgraded, but their location is conserved.</p>
            <h3>Upgrading multi-node installations</h3>
            <p>The UPGRADE&#160;procedure supports multi-node configurations, where your configuration remains strictly the same.
        </p>
            <h3>About IASP installations</h3>
            <p>The procedure supports the upgrade of <span class="mc-variable suite_variables.TransferCFTName variable">Transfer CFT</span> installed on an IASP. The process remains the same, the UPGRADE procedure itself detects  if the <span class="mc-variable suite_variables.TransferCFTName variable">Transfer CFT</span> is an installation on ASP, and then keeps the <span class="mc-variable suite_variables.TransferCFTName variable">Transfer CFT</span> in the same ASP.</p>
            <table class="AutoNumber_p_note" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
                <col style="width: 25px;" />
                <col style="width: 45px;" />
                <col style="width: auto;" />
                <tr>
                    <td valign="top" />
                    <td class="AutoNumber_p_note" valign="top"><span><b>Note</b></span>
                    </td>
                    <td class="AutoNumber_p_note" valign="top" data-mc-autonum="&lt;b&gt;Note&lt;/b&gt;">The UPGRADE procedure does not support the upgrade from a non-IASP CFT to an IASP <span class="mc-variable suite_variables.TransferCFTName variable">Transfer CFT</span> or vice versa. In the same spirit, an upgrade from one type of IASP to another is not supported.</td>
                </tr>
            </table>
            <h2><a name="Manual"></a>Manual upgrade procedure</h2>
            <p>This section explains how to upgrade an existing Transfer CFT IBM&#160;i from 2.7.1, 3.0.1, 3.1.3, 3.3.2, 3.4, or 3.5 to Transfer CFT <span class="mc-variable axway_variables.Release_Number variable">3.9</span> for either a <a href="#Manually">single installation</a> or a <a href="#Manually2">multi-node installation</a>.</p>
            <h3><a name="Manually"></a>Manually upgrade a single installation</h3>
            <p>The manual upgrade procedure is similar to the migration procedure.</p>
            <ol>
                <li value="1">Load the former Transfer CFT CFT 2.7.1, 3.0.1, or 3.1.3 environment.</li>
                <li value="2">Stop Transfer CFT.</li>
                <li value="3">Create a backup library to save your configuration:</li>
            </ol>
            <li class="list_detail">
                <table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0">
                    <col class="TableStyle-code_window-Column-Column1" />
                    <tbody>
                        <tr class="TableStyle-code_window-Body-Body1">
                            <td class="TableStyle-code_window-BodyA-Column1-Body1">
                                <p>CRTLIB LIB(CFTUPGLIB)</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </li>
            <ol data-mc-continue="true">
                <li value="4">Export your configuration.<ul><li>Export your static configuration objects using the command CFTUTIL CFTEXT: </li></ul><table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0"><col class="TableStyle-code_window-Column-Column1" /><tbody><tr class="TableStyle-code_window-Body-Body1"><td class="TableStyle-code_window-BodyA-Column1-Body1">CALL PGM(CFTUTIL) PARM(‘CFTEXT’ ‘type=all, fout=CFTUPGLIB/EXTCONF’)</td></tr></tbody></table><ul><li>Export your PKI certificates using the PKIUTIL PKIEXT command. Enter:</li></ul><table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0"><col class="TableStyle-code_window-Column-Column1" /><tbody><tr class="TableStyle-code_window-Body-Body1"><td class="TableStyle-code_window-BodyA-Column1-Body1">CALL PGM(PKIUTIL) PARM(‘PKIEXT’ ‘fout=CFTUPGLIB/EXTPKI’)</td></tr></tbody></table><ul><li>Export the catalog using the CFTMI command. Enter:</li></ul><table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0"><col class="TableStyle-code_window-Column-Column1" /><tbody><tr class="TableStyle-code_window-Body-Body1"><td class="TableStyle-code_window-BodyA-Column1-Body1">CALL PGM(CFTMI) PARM(‘MIGR’ ‘type=CAT, direct=FROMCAT, ifname=CFTPROD/CAT, ofname=CFTUPGLIB/EXTCAT’)</td></tr></tbody></table><ul><li>Export the communication media file using the CFTMI command:</li></ul><table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0"><col class="TableStyle-code_window-Column-Column1" /><tbody><tr class="TableStyle-code_window-Body-Body1"><td class="TableStyle-code_window-BodyA-Column1-Body1">CALL PGM(CFTMI) PARM(‘MIGR’ ‘type=COM, direct=FROMCOM, ifname=CFTPROD/COM, ofname=CFTUPGLIB/EXTCOM’)</td></tr></tbody></table><ul><li>Additionally, you must export any procedures that are specific to your production, sample APIs, exits, and execs to your backup library.</li></ul></li>
                <li value="5">Rename the INSTALL directory, the RUNTIME directory, and the Transfer CFT libraries.
            <table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0"><col class="TableStyle-code_window-Column-Column1" /><tbody><tr class="TableStyle-code_window-Body-Body1"><td class="TableStyle-code_window-BodyA-Column1-Body1"><p>STRQSH CMD('mv /home/cft/install /home/cft/install_save')</p><p>STRQSH CMD('mv /home/cft/runtime /home/cft/runtime_save')</p><p>RNMOBJ OBJ(QSYS/CFTPROD) OBJTYPE(*LIB) NEWOBJ(CFTPRODSAV)</p><p>RNMOBJ OBJ(QSYS/CFTPGM) OBJTYPE(*LIB) NEWOBJ(CFTPGMSAV)</p></td></tr></tbody></table></li>
                <li value="6">You can now install the new Transfer CFT version. See <a href="../installation/Use_INSTALL_command.htm" class="MCXref xref">About the INSTALL command</a>.</li>
                <li value="7">Import the configuration.<ul><li>Import your static configuration objects using the command:</li></ul><table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0"><col class="TableStyle-code_window-Column-Column1" /><tbody><tr class="TableStyle-code_window-Body-Body1"><td class="TableStyle-code_window-BodyA-Column1-Body1">CFTINIT FILES('CFTUPGLIB/EXTCONF')   </td></tr></tbody></table><ul><li style="page-break-before: always;">Import your PKI certificates using the PKIUTIL command:</li></ul><table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0"><col class="TableStyle-code_window-Column-Column1" /><tbody><tr class="TableStyle-code_window-Body-Body1"><td class="TableStyle-code_window-BodyA-Column1-Body1"><p>CALL PGM(PKIUTIL) PARM('PKIFILE' 'fname=CFTPROD/PKIBASE, mode=CREATE')</p><p>PKIUTIL LIBRARY(EXTLIB) FILE(EXTPKI) MEMBER(EXTPKI)</p></td></tr></tbody></table><ul><li>Import the catalog using the CFTMI command:</li></ul><table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0"><col class="TableStyle-code_window-Column-Column1" /><tbody><tr class="TableStyle-code_window-Body-Body1"><td class="TableStyle-code_window-BodyA-Column1-Body1">CALL PGM(CFTMI) PARM(‘MIGR’ ‘type=CAT, direct=TOCAT, ifname=CFTUPGLIB/EXTCAT, ofname=CFTPROD/CAT’)</td></tr></tbody></table><ul><li>Import the communication media file using the CFTMI command:</li></ul><table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0"><col class="TableStyle-code_window-Column-Column1" /><tbody><tr class="TableStyle-code_window-Body-Body1"><td class="TableStyle-code_window-BodyA-Column1-Body1">CALL PGM(CFTMI) PARM(‘MIGR’ ‘type=COM, direct=TOCOM, ifname=CFTUPGLIB/EXTCOM, ofname=CFTPROD/COM’)</td></tr></tbody></table><ul><li>Import specific procedures to your production, for example APIs, EXITs, and execs from the CFTUPGLIB backup library.</li></ul><table class="AutoNumber_p_note" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0"><col style="width: 73px;" /><col style="width: 47px;" /><col style="width: auto;" /><tr><td valign="top" /><td class="AutoNumber_p_note" valign="top"><span><b>Note &#160;</b></span></td><td class="AutoNumber_p_note" valign="top" data-mc-autonum="&lt;b&gt;Note &#160;&lt;/b&gt;">You must recompile these after upgrading.</td></tr></table></li>
            </ol>
            <h3>Check the new version</h3>
            <p>To check the Transfer CFT version, as well as the license key and system information, enter: </p>
            <table style="mc-table-style: url('../../Resources/TableStyles/code_window.css');width: 90%;" class="TableStyle-code_window" cellspacing="0">
                <col class="TableStyle-code_window-Column-Column1" />
                <tr class="TableStyle-code_window-Body-Body1">
                    <td class="TableStyle-code_window-BodyD-Column1-Body1">
                        <p>CFTUTIL about</p>
                    </td>
                </tr>
            </table>
            <h3><a name="Manually2"></a>Manually upgrade a Transfer CFT 2.7.1, 3.0.1, or 3.1.3 multi-node installation</h3>
            <p>The multi-node procedure is similar to the single instance upgrade procedure. <span class="bold_in_para">However, when exporting CAT and COM, you must export your configuration for each node. </span></p>
            <ol>
                <li value="1">Load the former Transfer CFT 2.7.1, 3.0.1, or 3.1.3 environment.</li>
                <li value="2">Stop Transfer CFT IBM i.</li>
                <li value="3">Create a temporary library for your exported configuration:   </li>
            </ol>
            <li class="list_detail">
                <table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0">
                    <col class="TableStyle-code_window-Column-Column1" />
                    <tbody>
                        <tr class="TableStyle-code_window-Body-Body1">
                            <td class="TableStyle-code_window-BodyA-Column1-Body1">
                                <p>CRTLIB LIB(CFTUPGLIB)</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </li>
            <ol data-mc-continue="true">
                <li value="4">Export your configuration.<ul><li>Export your static configuration objects using the command: </li></ul><table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0"><col class="TableStyle-code_window-Column-Column1" /><tbody><tr class="TableStyle-code_window-Body-Body1"><td class="TableStyle-code_window-BodyA-Column1-Body1">CALL PGM(CFTUTIL) PARM(‘CFTEXT’ ‘type=all, fout=CFTUPGLIB/EXTCONF’)</td></tr></tbody></table><ul><li>Export your PKI certificates using the PKIUTIL PKIEXT command:</li></ul><table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0"><col class="TableStyle-code_window-Column-Column1" /><tbody><tr class="TableStyle-code_window-Body-Body1"><td class="TableStyle-code_window-BodyA-Column1-Body1">CALL PGM(PKIUTIL) PARM(‘PKIEXT’ ‘fout=CFTUPGLIB/EXTPKI’)</td></tr></tbody></table><ul><li>Export the catalog using the CFTMI command:</li></ul><table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0"><col class="TableStyle-code_window-Column-Column1" /><tbody><tr class="TableStyle-code_window-Body-Body1"><td class="TableStyle-code_window-BodyA-Column1-Body1">CFTMI MIGR type=CAT, direct=FROMCAT, ifname=&lt;catalog_filename_ former_cft_for_node_&lt;node&gt;&gt;, ofname=catalog_output_&lt;node&gt;.xml</td></tr></tbody></table><ul><li>Export the communication media file using the command:<ul><li>For each communication media file, enter: </li><table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0"><col class="TableStyle-code_window-Column-Column1" /><tbody><tr class="TableStyle-code_window-Body-Body1"><td class="TableStyle-code_window-BodyA-Column1-Body1">CALL PGM(CFTMI) PARM(‘MIGR’ ‘type=CAT, direct=FROMCAT, ifname=CFTPROD/CAT, ofname=CFTUPGLIB/EXTCAT’)</td></tr></tbody></table><li>For each node, enter:</li><table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0"><col class="TableStyle-code_window-Column-Column1" /><tbody><tr class="TableStyle-code_window-Body-Body1"><td class="TableStyle-code_window-BodyA-Column1-Body1">CALL PGM(CFTMI) PARM(‘MIGR’ ‘type=COM, direct=FROMCOM, ifname=CFTPROD/COM&lt;nodenumber&gt;, ofname=CFTUPGLIB/EXTCOM&lt;nodenumber&gt;’)l </td></tr></tbody></table></ul></li></ul><ul><li>You must also export any procedures that are specific to your production, such as APIs, exits, execs, etc. (Copy your API, exit sources, exec, and specific scripts.)</li></ul></li>
                <li value="5">Change the hostname for each Transfer CFT.
Rename the INSTALL and RUNTIME&#160;directories, and the Transfer CFT&#160;libraries:            </li>
                <li class="list_detail">
                    <table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0">
                        <col class="TableStyle-code_window-Column-Column1" />
                        <tbody>
                            <tr class="TableStyle-code_window-Body-Body1">
                                <td class="TableStyle-code_window-BodyA-Column1-Body1">
                                    <p>STRQSH CMD('mv /home/cft/install /home/cft/install_save')</p>
                                    <p>STRQSH CMD('mv /home/cft/runtime /home/cft/runtime_save')</p>
                                    <p>RNMOBJ OBJ(QSYS/CFTPROD) OBJTYPE(*LIB) NEWOBJ(CFTPRODSAV)</p>
                                    <p>RNMOBJ OBJ(QSYS/CFTPGM) OBJTYPE(*LIB) NEWOBJ(CFTPGMSAV)</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </li>
                <li value="6">You can now install the new Transfer CFT version. See <a href="../installation/Use_INSTALL_command.htm" class="MCXref xref">About the INSTALL command</a>.</li>
                <li value="7">Import the configuration that you saved previously in the temporary directory created in Step 3:
            <table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0"><col class="TableStyle-code_window-Column-Column1" /><tbody><tr class="TableStyle-code_window-Body-Body1"><td class="TableStyle-code_window-BodyA-Column1-Body1"><p>CFTINIT FILES('CFTUPGLIB/EXTCONF')</p></td></tr></tbody></table><ul><li>Import the PKI certificates using the PKIUTIL command:</li></ul><table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0"><col class="TableStyle-code_window-Column-Column1" /><tbody><tr class="TableStyle-code_window-Body-Body1"><td class="TableStyle-code_window-BodyA-Column1-Body1"><p>CALL PGM(PKIUTIL) PARM('PKIFILE' 'fname=CFTPROD/PKIBASE, mode=CREATE')</p><p>PKIUTIL LIBRARY(EXTLIB) FILE(EXTPKI) MEMBER(EXTPKI)</p></td></tr></tbody></table><ul><li>Import the catalog using the CFTMI command:</li></ul><table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0"><col class="TableStyle-code_window-Column-Column1" /><tbody><tr class="TableStyle-code_window-Body-Body1"><td class="TableStyle-code_window-BodyA-Column1-Body1"><p>CALL PGM(CFTMI) PARM(‘MIGR’ ‘type=CAT, direct=TOCAT, ifname=CFTUPGLIB/EXTCAT, ofname=CFTPROD/CAT’)</p></td></tr></tbody></table><ul><li>Import the communication media file using the CFTMI command: <ul><li>For each communication media file, enter:</li><table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0"><col class="TableStyle-code_window-Column-Column1" /><tbody><tr class="TableStyle-code_window-Body-Body1"><td class="TableStyle-code_window-BodyA-Column1-Body1"><p>CALL PGM(CFTMI) PARM(‘MIGR’ ‘type=COM, direct=TOCOM, ifname=CFTUPGLIB/EXTCOM, ofname=CFTPROD/COM’)</p></td></tr></tbody></table><li>For each node, enter:</li><table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0"><col class="TableStyle-code_window-Column-Column1" /><tbody><tr class="TableStyle-code_window-Body-Body1"><td class="TableStyle-code_window-BodyA-Column1-Body1"><p>CALL PGM(CFTMI) PARM(‘MIGR’ ‘type=COM, direct=TOCOM, ifname=CFTUPGLIB/EXTCOM&lt;nodenumber&gt;, ofname=CFTPROD/COM&lt;nodenumber&gt;’)</p></td></tr></tbody></table></ul></li><li>
                    Import specific procedures to your production, for example APIs, EXITs, and execs from the CFTUPGLIB backup library.                   <table class="AutoNumber_p_note" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0"><col style="width: 73px;" /><col style="width: 47px;" /><col style="width: auto;" /><tr><td valign="top" /><td class="AutoNumber_p_note" valign="top"><span><b>Note &#160;</b></span></td><td class="AutoNumber_p_note" valign="top" data-mc-autonum="&lt;b&gt;Note &#160;&lt;/b&gt;">You must recompile these after upgrading.</td></tr></table></li></ul></li>
            </ol>
            <h3>Check the new version</h3>
            <p>To check the Transfer CFT version, as well as the license key and system information, enter the command: </p>
            <table style="width: 90%;mc-table-style: url('../../Resources/TableStyles/code_window.css');" class="TableStyle-code_window" cellspacing="0">
                <col class="TableStyle-code_window-Column-Column1" />
                <tbody>
                    <tr class="TableStyle-code_window-Body-Body1">
                        <td class="TableStyle-code_window-BodyA-Column1-Body1">
                            <p>CFTUTIL about</p>
                        </td>
                    </tr>
                </tbody>
            </table>
            <h2><a name="Rolling"></a>
            </h2>
        </div>
    </body>
</html>