{
    "title": "Using PassPort PM with OFTP",
    "linkTitle": "Using PassPort PM with OFTP",
    "weight": "250"
}<span class="mc-variable axway_variables.Component_Long_Name variable">Axway Gateway</span>: Protocols

[Prerequisites](#prerequisites)

[Configuring PassPort PM for OFTP](#configuring_passport_pm)

[Configuring Gateway for OFTP](#configuring_gw)

[Defining Sites for OFTP](#defining_sites)

[Submitting OFTP Transfer Requests](#submitting_trans_req)

This topic describes how to use Axway PassPort PM in conjunction with OFTP in Gateway.

<span id="prerequisites"></span>

## Prerequisites

-   Make sure that the<span class="code"> JAVA\_HOME</span> environment variable points to the correct JVM home directory and the following directories are in your PATH environment variable:
    -   &lt;java\_home>/bin
    -   &lt;java\_home>/jre/bin/server/
    -   &lt;passport\_pm\_home>/Passport\_PM/bin
-   Gateway must be installed.

<span id="configuring_passport_pm"></span>

## Configuring PassPort PM for OFTP

Refer to the PassPort PM documentation for information about how to use the PassPort PM portal to define a Trading Partner and its associated communication protocol attributes.

The following sections only describe the protocol attributes used in an OFTP Trading Partner.

### Defining a PassPort PM OFTP Trading Partner

An OFTP Trading Partner contains the following attributes:

#### Identity Attributes

<table>
         
         
         
         
   
   <thead>
      <tr>
<th class="HeadE-Column1-Header1"><p>Attribute</p>         </th>
<th class="HeadE-Column1-Header1"><p>Description</p>         </th>
<th class="HeadD-Column1-Header1"><p>Value</p>         </th>
      </tr>
   </thead>
   <tbody>
      <tr>
         <td><p><span style="font-weight: bold;">ProtoIdent</span> (*)</p>         </td>
         <td><p>Key field uniquely defines an OFTP protocol site</p>         </td>
         <td><p>Corresponds to SSIDCODE in SSIDCMD.</p>         </td>
      </tr>
      <tr>
         <td><p><span style="font-weight: bold;">Version</span> (*)</p>         </td>
         <td><p>Identifies the protocol version to use</p>         </td>
         <td><p>Accepted values: R1.2, R1.3, R1.4, R2.0</p>         </td>
      </tr>
      <tr>
         <td><p><span style="font-weight: bold;">PartnerId</span> (*)</p>         </td>
         <td><p>Key field uniquely identifies a Trading Partner</p>         </td>
         <td><p>Corresponds to the SFIDORIG and SFIDDEST in SFIDCMD.</p>         </td>
      </tr>
   </tbody>
</table>

(\*) indicates a mandatory attribute.

#### Transport Level Protocol Attributes

<table>
         
         
         
         
   
   <thead>
      <tr>
<th class="HeadE-Column1-Header1"><p>Attribute</p>         </th>
<th class="HeadE-Column1-Header1"><p>Description</p>         </th>
<th class="HeadD-Column1-Header1"><p>Value</p>         </th>
      </tr>
   </thead>
   <tbody>
      <tr>
         <td><p><span style="font-weight: bold;">NetworkAddress</span> (*)</p>         </td>
         <td><p>The network address where the site is located.</p>         </td>
         <td><p>Format is TCP:host:port</p>         </td>
      </tr>
      <tr>
         <td><p>ClientPassword</p>         </td>
         <td><p>Password</p>         </td>
         <td><p>Corresponds to the SSIDPSWD in SSIDCMD when this Site is in initiator (client) mode. The OFTP initiator uses it to identify itself to the responder.</p>         </td>
      </tr>
      <tr>
         <td><p>ServerPassword</p>         </td>
         <td><p>Password</p>         </td>
         <td><p>Corresponds to the SSIDPSWD in SSIDCMD when this Site is in responder (server) mode. The OFTP responder uses it to identify itself to the initiator.</p>         </td>
      </tr>
      <tr>
         <td><p>ConnectionMessage</p>         </td>
         <td><p>OFTP Connection Message</p>         </td>
         <td><p>Corresponds to the SSIDUSER in SSIDCMD.</p>         </td>
      </tr>
      <tr>
         <td><p>EERPStyle</p>         </td>
         <td><p>EERP style</p>         </td>
         <td><p>Accepted values:</p>
<ul>
<li>International (default)</li>
<li>French</li>
</ul>         </td>
      </tr>
      <tr>
         <td><p>AckOption</p>         </td>
         <td><p>acknowledgment option</p>         </td>
         <td><p>Accepted values:</p>
<ul>
<li>NONE: No EERP action is defined</li>
<li>BY_MONITOR: Automatic EERP generated by Gateway</li>
<li>BY_USER: EERP generated by user application</li>
<li>NOT_TO_ACK: EERP not generated</li>
</ul>         </td>
      </tr>
      <tr>
         <td><p>ApplicationMethod</p>         </td>
         <td><p>Defines the method used to deduce the Application object used by Gateway.</p>         </td>
         <td><p>Accepted values:</p>
<ul>
<li>IN_FILE_NAME: Application object name is in SFIDDSN</li>
<li>IN_USER_MSG: Application object name is in SFIDUSER</li>
<li>IN_USER_EXIT: Application object name is given by user exit</li>
</ul>         </td>
      </tr>
      <tr>
         <td><p>SSLTLS</p>         </td>
         <td><p>Transport level encryption</p>         </td>
         <td><p>Accepted values:</p>
<ul>
<li>NONE: No transport level encryption is used</li>
<li>SSL: Transport level encryption is SSL</li>
<li>TLS: Transport level encryption is TLS</li>
</ul>         </td>
      </tr>
      <tr>
         <td><p>CertificateType</p>         </td>
         <td><p>Ignored if SSLTLS option is NONE, otherwise it is mandatory.</p>         </td>
         <td><p>Accepted value: certificate</p>         </td>
      </tr>
      <tr>
         <td><p>CertificateId</p>         </td>
         <td><p>Ignored if SSLTLS option is NONE, otherwise it is mandatory.</p>
<p>The identifier used to retrieve the X.509 certificate from the DB. This certificate is used to establish the SSL/TLS session.</p>         </td>
         <td><p> </p>         </td>
      </tr>
      <tr>
         <td><p>CertificatePassword</p>         </td>
         <td><p>Ignored if SSLTLS option is NONE.</p>
<p>Only required if the certificate has a private key.</p>         </td>
         <td><p> </p>         </td>
      </tr>
      <tr>
         <td><p>AuthenticationMethod</p>         </td>
         <td><p>Defines the secured authentication method to use.</p>         </td>
         <td><p>Accepted values:</p>
<ul>
<li>NONE</li>
<li>ENVELOPPEDDATA</li>
<li>ENCRYPTEDDATA</li>
</ul>         </td>
      </tr>
      <tr>
         <td><p>AuthCertificateType</p>         </td>
         <td><p>Ignored if AuthenticationMethod = NONE, otherwise it is mandatory.</p>         </td>
         <td><p>Accepted value: certificate</p>         </td>
      </tr>
      <tr>
         <td><p>AuthCertificateId</p>         </td>
         <td><p>Ignored if AuthenticationMethod = NONE, otherwise it is mandatory.</p>
<p>The identifier used to retrieve the X.509 certificate from the DB. This certificate is used to establish the OFTP R2.0 secured authentication session.</p>         </td>
         <td><p> </p>         </td>
      </tr>
      <tr>
         <td><p>AuthCertificatePassword</p>         </td>
         <td><p>Ignored if AuthenticationMethod = NONE.</p>
<p>Required only if the certificate has a private key</p>         </td>
         <td><p> </p>         </td>
      </tr>
   </tbody>
</table>

(\*) indicates a mandatory attribute. All other attributes are optional.

#### EDI Level Protocol Attributes

<table>
         
         
         
         
   
   <thead>
      <tr>
<th class="HeadE-Column1-Header1"><p>Attribute</p>         </th>
<th class="HeadE-Column1-Header1"><p>Description</p>         </th>
<th class="HeadD-Column1-Header1"><p>Value</p>         </th>
      </tr>
   </thead>
   <tbody>
      <tr>
         <td><p>SignCertificateType</p>         </td>
         <td><p>X.509 certificate</p>         </td>
         <td><p>Accepted value: certificate</p>         </td>
      </tr>
      <tr>
         <td><p>SignCertificateId</p>         </td>
         <td><p>The identifier used to retrieve the X.509 certificate from the DB.</p>
<p>This certificate is used to sign or verify a CMS SignedData.</p>         </td>
         <td><p> </p>         </td>
      </tr>
      <tr>
         <td><p>SignCertificatePassword</p>         </td>
         <td><p>Only required if the certificate has a private key. In other words, used to sign a CMS SignedData.</p>         </td>
         <td><p> </p>         </td>
      </tr>
      <tr>
         <td><p>CiphCertificateType</p>         </td>
         <td><p>X.509 certificate</p>         </td>
         <td><p>Accepted value: certificate</p>         </td>
      </tr>
      <tr>
         <td><p>CiphCertificateId</p>         </td>
         <td><p>The identifier used to retrieve the X.509 certificate from the DB.</p>
<p>This certificate is used to generate or verify a CMS EnvelopedData.</p>         </td>
         <td><p> </p>         </td>
      </tr>
      <tr>
         <td><p>CiphCertificatePassword</p>         </td>
         <td><p>Only required if the certificate has a private key. In other words, used to verify a CMS EnvelopedData.</p>         </td>
         <td><p> </p>         </td>
      </tr>
      <tr>
         <td><p>KeyEncryptionAlgorithm</p>         </td>
         <td><p>Signing algorithm</p>         </td>
         <td><p>Accepted value: RSA</p>         </td>
      </tr>
      <tr>
         <td><p>DataEncryptionAlgorithm</p>         </td>
         <td><p>Encryption algorithm</p>         </td>
         <td><p>Accepted values:</p>
<ul>
<li>AES256</li>
<li>3DES</li>
</ul>         </td>
      </tr>
      <tr>
         <td><p>CompressionAlgorithm</p>         </td>
         <td><p>Compression algorithm</p>         </td>
         <td><p>Accepted value: ZLIB</p>         </td>
      </tr>
      <tr>
         <td><p>SignatureRequired</p>         </td>
         <td><p>Is signature required?</p>         </td>
         <td><p>Accepted values: YES, NO</p>
<p>If YES, the received file must be signed, otherwise it is rejected.</p>         </td>
      </tr>
      <tr>
         <td><p>EncryptionRequired</p>         </td>
         <td><p>Is encryption required?</p>         </td>
         <td><p>Accepted values: YES, NO</p>
<p>If YES, the received file must be encrypted, otherwise it is rejected.</p>         </td>
      </tr>
   </tbody>
</table>

(\*) indicates a mandatory attribute. All other attributes are optional.

<span id="usage_notes"></span>

### Usage Notes

As described above, ProtoIdent corresponds to OFTP SSIDCODE while PartnerId corresponds to OFTP SFIDORIG / SFIDDEST. The values of these two fields can be identical or different, depending on your configuration.

There are two possible usage cases:

#### Case 1: There is a one-to-one mapping between ProtoIdent and PartnerId

There is only one SFIDORIG / SFIDDEST per SSIDCODE. In this case, you need only define one PassPort PM communication profile per Trading Partner.

#### Case 2: There is a one-to-many mapping between ProtoIdent and PartnerId

There is more than one SFIDORIG / SFIDDEST per SSIDCODE. In this case, you need to define:

-   One PassPort PM communication profile for ProtoIdent with only transport level attributes. The ProtoIdent value must be unique among all communication profiles defined for OFTP. You must also set the PartnerId field to the same value as the ProtoIdent field.
-   For each PartnerId associated with this ProtoIdent, one PassPort PM communication profile with only EDI attributes. The PartnerId value must be unique among all communication profiles defined for OFTP. You must also set the ProtoIdent field to the same value as the PartnerId field.

<span id="configuring_gw"></span>

## Configuring Gateway for OFTP

In the Gateway configuration menu:

1.  [Activate the OFTP protocol](../../../configuration_start_here/config_protocols_about/config_protocols#olh_connectivity_legacy_odette_tcp).  
    Specify the Gateway listening port and activate the protocol.
2.  [Activate the PassPort PS connector](../../../configuration_start_here/config_connectors#olh_connectivity_passport).  
    Specify the PassPort PS server IP address and TCP port.
3.  [Activate the PassPort PM connector](../../../configuration_start_here/config_connectors#olh_connectivity_passport).  
    Specify the PassPort PM home directory and parameters file.

<span id="defining_sites"></span>

## Defining Sites for OFTP

### Local Site

Define at least one OFTP Local Site, with an authentication certificate.

Whether or not secured authentication will be carried out depends on the communication profile defined for the remote Trading Partner. If the remote Trading Partner is an OFTP R2.0 partner with an authentication certificate, then the OFTP secured session authentication will be activated.

### OFTP template Site

In the OFTP template Site TODT, the local partner alias must point to the Local Site defined above.

<span id="submitting_trans_req"></span>

## Submitting OFTP Transfer Requests

To submit an OFTP Transfer Request using a PassPort PM definition, you must specify the corresponding PassPort PM communication protocol profiles (DEA) used.

Depending on the PassPort PM definition, there are two possible cases:

#### Case 1: There is a one-to-one mapping between ProtoIdent and PartnerId (most common case)


    peltrans
               -org_alias       local_site_alias
               -file_component  file_to_send
               -sfidsign        yes | no
               -sfiddesc        "virtual file description"
               -tradef          CMS
               -tpmlocdea       tpm_local_partner
               -tpmdea          tpm_remote_partner
               -trades          yes | no
               -tradee          yes | no
               -tradecomp       yes | no
               -tradea          AES256 | 3DES

<span class="code">tpmlocdea</span> and<span class="code"> tpmdea</span> must both contain transport level attributes and EDI level attributes.

#### Case 2: There is a one-to-many mapping between ProtoIdent and PartnerId


    peltrans
               -org_alias       local_site_alias
               -file_component  file_to_send
               -sfidsign        yes | no
               -sfiddesc        "virtual file description"
               -tradef          CMS
               -tpmlocdea       tpm_local_partner
               -tpmdea          tpm_remote_partner
               -tpmdea2         tpm_remote_partner2
               -trades          yes | no
               -tradee          yes | no
               -tradecomp       yes | no
               -tradea          AES256 | 3DES

<span class="code">tpmlocdea</span> must contain transport level attributes and EDI level attributes.

<span class="code">tpmdea</span> must contain EDI attributes for the remote partner.

<span class="code">tpmdea2</span> must contain transport level attributes for the remote partner.

Refer to [Usage Notes](#usage_notes) for a detailed explanation.

For full details of Transfer Request parameters and their default values, refer to [Transfers: Parameters List](../../../transfers_start_here/submitting_transfer_requests_start_here/working_with_transfers_cli/transfer_req_parameter_list).

Related topics

[About OFTP](../)

[Configuring Gateway for OFTP](../oftp_config)

[Monitoring an OFTP transfer](../oftp_monitoring_transfer)

[Submitting an OFTP Transfer Request](../oftp_submitting_transfer)

 

Links to documentation set for Axway Gateway <span class="mc-variable axway_variables.Release_Number variable">6.17.3</span>:

-   [Installation](/bundle/Gateway_6173_InstallationGuide_allOS_en_HTML5/page/Content/start_page.htm) -- [User](/bundle/Gateway_6173_UsersGuide_allOS_en_HTML5/page/Content/start_page.htm) -- [Unix Configuration](/bundle/Gateway_6173_ConfigurationGuide_UNIX_en_HTML5/page/Content/start_page.htm) -- [Upgrade](/bundle/Gateway_6173_UpgradeGuide_allOS_en_HTML5/page/Content/start_page.htm) -- [Interoperability](/bundle/Gateway_6173_InteroperabilityGuide_allOS_en_HTML5/page/Content/start_page.htm) -- [Security](/bundle/Gateway_6173_SecurityGuide_allOS_en_HTML5/page/Content/start_page.htm), requires login -- [Release Notes](/bundle/Gateway_6173_ReleaseNotes_allOS_en_HTML5/page/Content/Gateway_ReleaseNotes_allOS_en.htm)
