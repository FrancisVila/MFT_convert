{
    "title": "SWIFTNet HA architecture",
    "linkTitle": "High Availability Architecture",
    "weight": "340"
}This following diagram provides an example of the architecture of a high-availability implementation in a bank for the SWIFT channel:

<img src="/Images/Gateway/A5Suite_fex_pnlg_cluster_swift_V1_756x607.png" class="maxWidth" />

This example of a SWIFTNet high-availability architecture relies on several features:

-   The SWIFT features called “distribution of real-time traffic over several SWIFTNet Links” and “shared Store-and-Forward (SnF) queues”.
-   The SWIFTNet high-availability mechanism integrated in Gateway (from version 6.15) and providing a delivery notification pass-through service. This service enables a Gateway instance to receive a SWIFTNet delivery notification and associate it with the initial SWIFTNet transfer issued by another Gateway.
-   A farm of active nodes where Integrator and Gateway are running.

## Inbound flows

-   The inbound SWIFTNet flows are balanced between the two Gateways through the “distribution of real-time traffic over several SWIFTNet Links” feature (configurable for real-time flows in the SWIFTNet Message Routing Rules) and through the sharing of store-and-forward queues. Each Gateway runs on one node of the farm.
-   If one of the incoming flows is a delivery notification, then the pass-through service of the Gateway receiving the flows associates the notification with the initial transfer.
-   After they have been processed by the Integrator running on the same node as the Gateway instance which received the flows, the inbound flows are pushed to the back-office through a Transfer Bus implementation to which the Gateway is connected.

## Outbound flows

-   The flows generated by the applications are distributed between the Gateway instances. Each instance runs on one node of the farm.
-   After they have been processed by Integrator, the outbound flows are sent to the SWIFTNet network by Gateway. Gateway stores the transfer information in an RDBMS that will later make the association with the delivery notifications received.

> **Note:**
>
> In case of failure, each node is recovered by a backup node instance through a mechanism which is similar to the active/passive clustering mechanism.

## Purge operation

For purging the HA database transfer entries, use the <span class="code">pelpur</span> subcommand [<span class="code">pelpur clean\_swha\_db</span>](../../../../transfers_start_here/submitting_transfer_requests_start_here/working_with_transfers_cli#Purging).

Links to documentation set for Axway Gateway <span class="mc-variable axway_variables.Release_Number variable">6.17.3</span>:

-   [Installation](/bundle/Gateway_6173_InstallationGuide_allOS_en_HTML5/page/Content/start_page.htm) -- [User](/bundle/Gateway_6173_UsersGuide_allOS_en_HTML5/page/Content/start_page.htm) -- [Unix Configuration](/bundle/Gateway_6173_ConfigurationGuide_UNIX_en_HTML5/page/Content/start_page.htm) -- [Upgrade](/bundle/Gateway_6173_UpgradeGuide_allOS_en_HTML5/page/Content/start_page.htm) -- [Interoperability](/bundle/Gateway_6173_InteroperabilityGuide_allOS_en_HTML5/page/Content/start_page.htm) -- [Security](/bundle/Gateway_6173_SecurityGuide_allOS_en_HTML5/page/Content/start_page.htm), requires login -- [Release Notes](/bundle/Gateway_6173_ReleaseNotes_allOS_en_HTML5/page/Content/Gateway_ReleaseNotes_allOS_en.htm)
